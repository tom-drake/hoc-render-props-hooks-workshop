(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){e.exports=n(255)},255:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(42),c=n.n(r),s=n(259),l=n(25),i=n(105),m=n.n(i),u=n(106),d=n.n(u),p=n(260),h=n(257),g=n(256),f=n(258),E=n(261),v=n(101),y=n.n(v),C=n(103),w=n.n(C),b=n(55),j=n.n(b),k=n(102),N=n.n(k),O=n(15),T=n(8),x=n.n(T),R=n(13),D=n.n(R),S=n(17),B=n.n(S),H=n(26),P=n.n(H),W=n(3),L=n.n(W),A=n(23),U=n.n(A),M=n(24),I=n.n(M),J=n(48),q=n(33),z=n(34),F=n(37),G=n(35),V=n(38),Y=n(50),K=n.n(Y),Q=n(16),X=n.n(Q),Z=X.a.CancelToken;function $(e){return function(t){var n=function(n){function a(){var e,t;Object(q.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(F.a)(this,(e=Object(G.a)(a)).call.apply(e,[this].concat(o)))).state={loading:!0},t}return Object(V.a)(a,n),Object(z.a)(a,[{key:"componentDidMount",value:function(){var t=this;X.a.get(e,{cancelToken:new Z(function(e){t.cancelToken=e})}).then(function(e){var n=e.data;return t.setState({data:n,loading:!1})}).catch(function(e){t.setState({loading:!1}),X.a.isCancel(e)||t.setState({error:e})})}},{key:"componentWillUnmount",value:function(){this.cancelToken&&this.cancelToken()}},{key:"render",value:function(){var e=this.props,n=e.forwardedRef,a=Object(J.a)(e,["forwardedRef"]);return o.a.createElement(t,Object.assign({ref:n},a,this.state))}}]),a}(a.Component);return K()(n,t),o.a.forwardRef(function(e,t){return o.a.createElement(n,Object.assign({},e,{forwardedRef:t}))})}}function _(){var e=$("https://jsonplaceholder.typicode.com/users/1")(function(e){var t=e.data;return e.loading?o.a.createElement(I.a,null):o.a.createElement(U.a,{src:{data:t}})});return o.a.createElement(e,null)}var ee=n(107);function te(e){var t=function(t){function n(){return Object(q.a)(this,n),Object(F.a)(this,Object(G.a)(n).apply(this,arguments))}return Object(V.a)(n,t),Object(z.a)(n,[{key:"render",value:function(){var t=this.props,n=t.data,a=t.loading,r=t.error,c=Object(J.a)(t,["data","loading","error"]);if(a)return o.a.createElement(I.a,null);if(r)throw r;return o.a.createElement(e,Object.assign({data:n},c))}}]),n}(a.Component);return K()(t,e),o.a.forwardRef(function(e,n){return o.a.createElement(t,Object.assign({},e,{forwardedRef:n}))})}function ne(){var e=Object(ee.a)($("https://jsonplaceholder.typicode.com/users/1"),te)(function(e){var t=e.data;return o.a.createElement(U.a,{src:t})});return o.a.createElement(e,null)}var ae=Object(l.withStyles)({heading:{marginTop:10},content:{fontSize:20,maxWidth:1e3,marginBottom:20},divider:{marginTop:20,marginBottom:20},datademo:{padding:5,marginBottom:20}})(function(e){var t=e.classes,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(!1),i=Object(O.a)(l,2),m=i[0],u=i[1];return o.a.createElement("div",{className:t.content},o.a.createElement(L.a,{className:t.heading,variant:"h2",gutterBottom:!0},"Higher Order Components"),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"What are they?"),o.a.createElement(L.a,{className:t.content,component:"p"},"A higher-order component (HOC) is an technique in React for reusing component logic. HOCs are not part of the React API they are a pattern. A HOC takes a Component as an argument and returns a generated Component with additional functionality on top of your own Component. It may provide this functionality to your Component via passing props down or it could choose to render something else based on what props were passed to it."),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},"const EnhancedComponent = higherOrderComponent(config)(WrappedComponent);"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},"const EnhancedComponent = higherOrderComponent(WrappedComponent);"),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"How are they made?"),o.a.createElement(L.a,{className:t.content,component:"p"},'A HoC can be made in a few ways. It can be a function which returns a function which returns a class (see below) if some kind of configuration is required before passing a Component in or it can just be a function which returns a class. That class returned should be a react Component with a render method returning the WrappedComponent with some new prop or a different component. Problems occur if static methods are used on the WrappedComponent as they will not be passed up through the HoC. Those static methods need to be hoisted up, the library "hoist-non-react-statics" will help with this. Another caveat is that refs won\'t be passed along to the wrapped component. This can be solved by forwarding the ref along using the "React.forwardRef" API.'),o.a.createElement(L.a,{variant:"h4"},"Data loader HoC"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'import React, { Component } from "react";\nimport hoistNonReactStatic from "hoist-non-react-statics";\nimport axios from "axios";\n\nconst CancelToken = axios.CancelToken;\n\nexport default function withData(url) {\n  return function(WrappedComponent) {\n    class EnhancedComponent extends Component {\n      state = {\n        loading: true\n      };\n\n      componentDidMount() {\n        axios\n          .get(url, {\n            cancelToken: new CancelToken(c => {\n              this.cancelToken = c;\n            })\n          })\n          .then(({ data }) => this.setState({ data, loading: false }))\n          .catch(error => {\n            if (!axios.isCancel(error)) {\n              this.setState({ error, loading: false });\n            }\n          });\n      }\n\n      componentWillUnmount() {\n        if (this.cancelToken) this.cancelToken();\n      }\n\n      render() {\n        return <WrappedComponent {...this.props} {...this.state} />;\n      }\n    }\n\n    hoistNonReactStatic(EnhancedComponent, WrappedComponent);\n\n    return React.forwardRef((props, ref) => {\n      return <EnhancedComponent {...props} forwardedRef={ref} />;\n    });\n  };\n}'),o.a.createElement(L.a,{variant:"h4"},"HoC usage"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'const DataRender = ({ data, loading }) => {\n  if (loading) {\n    return <CircularProgress />;\n  }\n  return <ReactJson src={{ data }} />;\n};\n\nconst url = "https://jsonplaceholder.typicode.com/users/1";\nconst WrapperDataRender = withData(url)(DataRender);'),o.a.createElement(P.a,{className:t.datademo,elevation:1},o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)}},"Mount"),o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return s(!1)}},"Unmount"),c&&o.a.createElement("div",null,o.a.createElement(_,null))),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Composing"),o.a.createElement(L.a,{className:t.content,component:"p"},"Let's say we want to use multiple HoCs on a single component we can do something like:"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'const DataRender = ({ data }) => {\n  return <ReactJson src={data} />;\n};\n\nconst LoadingDataRender = withLoading(DataRender);\n\nconst url = "https://jsonplaceholder.typicode.com/users/1";\nconst EnhancedComponent = withData(url)(LoadingDataRender);'),o.a.createElement(P.a,{className:t.datademo,elevation:1},o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return u(!0)}},"Mount"),o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return u(!1)}},"Unmount"),m&&o.a.createElement("div",null,o.a.createElement(ne,null))),o.a.createElement(L.a,{className:t.content,component:"p"},"This could get quite messy with many HoCs being used. We can use a library such as recompose to compose multiple HoCs together."),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'const DataRender = ({ data }) => {\n  return <ReactJson src={data} />;\n};\n\nconst url = "https://jsonplaceholder.typicode.com/users/1";\n\nconst EnhancedComponent = compose(\n  withData(url),\n  withLoading\n)(DataRender);'),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Pros?"),o.a.createElement(L.a,{className:t.content,component:"ul"},o.a.createElement("li",null,"Code reuse."),o.a.createElement("li",null,"Can be used to seperate the data layer from visual layer (Redux is a good example)."),o.a.createElement("li",null,"Supports the single responsibility model.")),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Cons?"),o.a.createElement(L.a,{className:t.content,component:"ul"},o.a.createElement("li",null,"Props can be overriden by the wrapper without you knowing"),o.a.createElement("li",null,"It's not always clear where props come from if looking at the component in isolation."),o.a.createElement("li",null,"Need to remeber to hoist the non react statics from the wrapped component"),o.a.createElement("li",null,"Any ref attached to the HoC will attach only to the HoC and not the wrapped component. Need to use the forwardRef API provided by react. https://reactjs.org/docs/forwarding-refs.html")))}),oe=n(108),re=X.a.CancelToken,ce=function(e){function t(){var e,n;Object(q.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(F.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!0},n}return Object(V.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this;X.a.get(this.props.url,{cancelToken:new re(function(t){e.cancelToken=t})}).then(function(t){var n=t.data;return e.setState({data:n,loading:!1})}).catch(function(t){e.setState({loading:!1}),X.a.isCancel(t)||e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){this.cancelToken&&this.cancelToken()}},{key:"render",value:function(){return this.props.children(Object(oe.a)({},this.state))}}]),t}(a.Component);function se(){return o.a.createElement(ce,{url:"https://jsonplaceholder.typicode.com/users/1"},function(e){var t=e.data;return e.loading?o.a.createElement(I.a,null):o.a.createElement(U.a,{src:{data:t}})})}var le=n(100),ie=Object(le.a)({users:o.a.createElement(ce,{url:"https://jsonplaceholder.typicode.com/users/1"}),todos:o.a.createElement(ce,{url:"https://jsonplaceholder.typicode.com/todos/1"})});function me(){return o.a.createElement(ie,null,function(e){var t=e.users,n=e.todos;return t.loading||n.loading?o.a.createElement(I.a,null):o.a.createElement(U.a,{src:{users:t.data,todos:n.data}})})}var ue=Object(l.withStyles)({heading:{marginTop:10},content:{fontSize:20,maxWidth:1e3,marginBottom:20},divider:{marginTop:20,marginBottom:20},datademo:{padding:5,marginBottom:20}})(function(e){var t=e.classes,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(!1),i=Object(O.a)(l,2),m=i[0],u=i[1];return o.a.createElement("div",{className:t.content},o.a.createElement(L.a,{className:t.heading,variant:"h2",gutterBottom:!0},"Render Props"),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"What are they?"),o.a.createElement(L.a,{className:t.content,component:"p"},"A render props is function prop which is passed in to the component to tell it how to render rather than implementing its own logic."),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},"<DataProvider render={data => (\n  <h1>Hello {data.target}</h1>\n)}/>"),o.a.createElement(L.a,{className:t.content,component:"p"},"In this case its using render as the prop, however another common pattern is to use the children prop as a function instead."),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},"<DataProvider>\n  {data => (\n    <h1>Hello {data.target}</h1>\n  )}\n</DataProvider>"),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"How are they made?"),o.a.createElement(L.a,{className:t.content,component:"p"},"They are written like any other react component but instead of implementing their own way of rendering they basically defer this to the render prop."),o.a.createElement(L.a,{variant:"h4"},"Data loader Render Prop"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'import { Component } from "react";\nimport axios from "axios";\n\nconst CancelToken = axios.CancelToken;\n\nexport default class DataLoader extends Component {\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    axios\n      .get(this.props.url, {\n        cancelToken: new CancelToken(c => {\n          this.cancelToken = c;\n        })\n      })\n      .then(({ data }) => this.setState({ data, loading: false }))\n      .catch(error => {\n        if (!axios.isCancel(error)) {\n          this.setState({ error, loading: false });\n        }\n      });\n  }\n\n  componentWillUnmount() {\n    if (this.cancelToken) this.cancelToken();\n  }\n\n  render() {\n    return this.props.children({ ...this.state });\n  }\n}'),o.a.createElement(L.a,{variant:"h4"},"Render Prop usage"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'<DataLoader url="https://jsonplaceholder.typicode.com/users/1">\n  {({ data, loading }) => {\n    if (loading) {\n      return <CircularProgress />;\n    }\n    return <ReactJson src={{ data }} />;\n  }}\n</DataLoader>'),o.a.createElement(P.a,{className:t.datademo,elevation:1},o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)}},"Mount"),o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return s(!1)}},"Unmount"),c&&o.a.createElement("div",null,o.a.createElement(se,null))),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Composing"),o.a.createElement(L.a,{className:t.content,component:"p"},"It's simple to compose them as they are just components."),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'<DataLoader url="https://jsonplaceholder.typicode.com/users/1">\n  {({ data: dataUsers, loading: loadingUsers }) => (\n    <DataLoader url="https://jsonplaceholder.typicode.com/todos/1">\n      {({ data: dataTodos, loading: loadingTodos }) => {\n        if (loadingUsers || loadingTodos) {\n          return <CircularProgress />;\n        }\n        return (\n          <ReactJson src={{ users: dataUsers, todos: dataTodos }} />\n        );\n      }}\n    </DataLoader>\n  )}\n</DataLoader>'),o.a.createElement(P.a,{className:t.datademo,elevation:1},o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return u(!0)}},"Mount"),o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return u(!1)}},"Unmount"),m&&o.a.createElement("div",null,o.a.createElement(me,null))),o.a.createElement(L.a,{className:t.content,component:"p"},"But wait, this is going to become messy quickly. Our actual component is hidden deep in these nested render functions. We can use a similar solution as we did with the HoCs. In this case we will use 'react-adopt'"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'import { adopt } from "react-adopt";\n\nconst Composed = adopt({\n  users: <DataLoader url="https://jsonplaceholder.typicode.com/users/1" />,\n  todos: <DataLoader url="https://jsonplaceholder.typicode.com/todos/1" />\n});\n\nfunction MyComponent() {\n  return (\n    <Composed>\n      {({ users, todos }) => {\n        if (users.loading && todos.loading) {\n          return <CircularProgress />;\n        }\n        return <ReactJson src={{ users: users.data, todos: todos.data }} />;\n      }}\n    </Composed>\n  );\n}'),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Pros?"),o.a.createElement(L.a,{className:t.content,component:"ul"},o.a.createElement("li",null,"The consumer is in full control of any props its component has"),o.a.createElement("li",null,"No magical props being passed to your component")),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Cons?"),o.a.createElement(L.a,{className:t.content,component:"ul"},o.a.createElement("li",null,"PureComponent is useless in most cases as the render prop is regenerated on each render. An instance method can be used and passed in as the render prop to solve this but it can split your code up a lot")))}),de=X.a.CancelToken;function pe(){var e=function(e){var t=Object(a.useState)(!0),n=Object(O.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)({}),s=Object(O.a)(c,2),l=s[0],i=s[1],m=Object(a.useState)(),u=Object(O.a)(m,2),d=u[0],p=u[1];return Object(a.useEffect)(function(){var t;return X.a.get(e,{cancelToken:new de(function(e){return t=e})}).then(function(e){var t=e.data;r(!1),i(t)}).catch(function(e){r(!1),X.a.isCancel(e)||p(e)}),function(){return t&&t()}},[e]),{loading:o,data:l,error:d}}("https://jsonplaceholder.typicode.com/users/1"),t=e.data,n=e.loading,r=e.error;return n?o.a.createElement(I.a,null):o.a.createElement(U.a,{src:{data:t,error:r}})}var he=Object(l.withStyles)({heading:{marginTop:10},content:{fontSize:20,maxWidth:1e3,marginBottom:20},divider:{marginTop:20,marginBottom:20},datademo:{padding:5,marginBottom:20}})(function(e){var t=e.classes,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],s=r[1];return o.a.createElement("div",{className:t.content},o.a.createElement(L.a,{className:t.heading,variant:"h2",gutterBottom:!0},"Hooks"),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"What are they?"),o.a.createElement(L.a,{className:t.content,component:"p"},"'Hooks are an upcoming feature that lets you use state and other React features without writing a class'"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},"import { useState } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>\n        Click me\n      </button>\n    </div>\n  );\n}"),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"How are they made?"),o.a.createElement(L.a,{className:t.content,component:"p"},"A few hooks are provided by react such as useState and useEffect but you can make your own by simply prepending your function with 'use'. Generally your own hook will make use of the built in hooks or other hooks."),o.a.createElement(L.a,{variant:"h4"},"Data loader Render Prop"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},"function useData(url) {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState({});\n  const [error, setError] = useState();\n\n  useEffect(\n    () => {\n      let cancelToken;\n      axios\n        .get(url, {\n          cancelToken: new CancelToken(c => (cancelToken = c))\n        })\n        .then(({ data }) => {\n          setLoading(false);\n          setData(data);\n        })\n        .catch(error => {\n          setLoading(false);\n          if (!axios.isCancel(error)) setError(error);\n        });\n\n      return () => cancelToken && cancelToken();\n    },\n    [url]\n  );\n\n  return { loading, data, error };\n}"),o.a.createElement(L.a,{variant:"h4"},"Hooks usage"),o.a.createElement(x.a,{component:"pre",className:"language-jsx"},'function DataDemo() {\n  const url = "https://jsonplaceholder.typicode.com/users/1";\n  const { data, loading, error } = useData(url);\n\n  if (loading) {\n    return <CircularProgress />;\n  }\n  return <ReactJson src={{ data, error }} />;\n}'),o.a.createElement(P.a,{className:t.datademo,elevation:1},o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)}},"Mount"),o.a.createElement(D.a,{variant:"contained",color:"primary",onClick:function(){return s(!1)}},"Unmount"),c&&o.a.createElement("div",null,o.a.createElement(pe,null))),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Composing"),o.a.createElement(L.a,{className:t.content,component:"p"},"Just use your hooks like any other function calls!"),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Pros?"),o.a.createElement(L.a,{className:t.content,component:"ul"},o.a.createElement("li",null,"No need for classes"),o.a.createElement("li",null,"No need for 'this'"),o.a.createElement("li",null,"Easy to compose"),o.a.createElement("li",null,"Replaces both the HoC and render props patterns")),o.a.createElement(B.a,{className:t.divider}),o.a.createElement(L.a,{variant:"h3",gutterBottom:!0},"Cons?"),o.a.createElement(L.a,{className:t.content,component:"ul"},o.a.createElement("li",null,"Completely different to what we are used to"),o.a.createElement("li",null,"Easy to break things i.e with conditional useState (anti-pattern) so need a linter to help")))}),ge="/hoc-render-props-hooks-workshop",fe=Object(E.a)(function(e){e.classes;var t=e.location;return o.a.createElement(a.Fragment,null,o.a.createElement(y.a,{position:"static",color:"default"},o.a.createElement(N.a,{centered:!0,value:t.pathname},o.a.createElement(j.a,{label:"Higher Order Components",value:"".concat(ge,"/higher-order-components"),component:g.a,to:"".concat(ge,"/higher-order-components")}),o.a.createElement(j.a,{label:"Render Props",value:"".concat(ge,"/render-props"),component:g.a,to:"".concat(ge,"/render-props")}),o.a.createElement(j.a,{label:"Hooks",value:"".concat(ge,"/hooks"),component:g.a,to:"".concat(ge,"/hooks")}))),o.a.createElement(w.a,{container:!0,justify:"center"},o.a.createElement(p.a,null,o.a.createElement(h.a,{exact:!0,path:"".concat(ge,"/"),render:function(){return o.a.createElement(f.a,{to:"".concat(ge,"/higher-order-components")})}}),o.a.createElement(h.a,{exact:!0,path:"".concat(ge,"/higher-order-components"),component:ae}),o.a.createElement(h.a,{exact:!0,path:"".concat(ge,"/render-props"),component:ue}),o.a.createElement(h.a,{exact:!0,path:"".concat(ge,"/hooks"),component:he}))))}),Ee=Object(l.createMuiTheme)({palette:{primary:m.a},typography:{useNextVariants:!0}});c.a.render(o.a.createElement(s.a,null,o.a.createElement(l.MuiThemeProvider,{theme:Ee},o.a.createElement(d.a,null),o.a.createElement(fe,null))),document.getElementById("root"))}},[[109,2,1]]]);
//# sourceMappingURL=main.558d6d82.chunk.js.map